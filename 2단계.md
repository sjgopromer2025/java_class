좋습니다! 기존 실습에 \*\*"총 결제 금액을 계산하는 기능"\*\*을 추가한 버전으로 **단계 4의 내용을 확장**해드릴게요. 이 확장된 버전은 실무적인 감각도 키워주고 객체 간의 협업 개념도 익히는 데 도움이 됩니다.

---

### ✅ 단계 4-2: 결제 총액 저장 기능 추가

**문제 설명 (확장)**

1. 기존의 `PaymentService` 클래스에 다음 멤버 변수를 추가하세요:

   * `private int totalAmount = 0;`
     → 지금까지 결제된 **총 금액**을 저장합니다.

2. 다음 메서드를 추가로 작성하세요:

   * `int getTotalAmount()`
     → 지금까지 결제된 총 금액을 반환합니다.

3. `processPayment(PaymentMethod method, int amount)` 메서드를 수정하세요:

   * 결제 성공 시 `totalAmount`에 `amount`를 더하도록 수정하세요.

4. `main()` 메서드에서는 다음을 수행하세요:

   * 여러 결제 수단으로 결제를 수행한 후, 마지막에 **총 결제 금액**을 출력하세요.

---

### 🔧 예시 코드

```java
// PaymentMethod.java
public interface PaymentMethod {
    void pay(int amount);
    String getName();
}
```

```java
// CreditCard.java
public class CreditCard implements PaymentMethod {
    @Override
    public void pay(int amount) {
        System.out.println("신용카드로 " + amount + "원 결제합니다.");
    }

    @Override
    public String getName() {
        return "신용카드";
    }
}
```

```java
// KakaoPay.java
public class KakaoPay implements PaymentMethod {
    @Override
    public void pay(int amount) {
        System.out.println("카카오페이로 " + amount + "원 결제합니다.");
    }

    @Override
    public String getName() {
        return "카카오페이";
    }
}
```

```java
// BankTransfer.java
public class BankTransfer implements PaymentMethod {
    @Override
    public void pay(int amount) {
        System.out.println("계좌이체로 " + amount + "원 결제합니다.");
    }

    @Override
    public String getName() {
        return "계좌이체";
    }
}
```

```java
// PaymentService.java
public class PaymentService {
    private int totalAmount = 0;

    public void processPayment(PaymentMethod method, int amount) {
        System.out.println("[LOG] " + method.getName() + "로 " + amount + "원 결제를 시작합니다.");
        method.pay(amount);
        totalAmount += amount;
        System.out.println("[LOG] 결제가 완료되었습니다.\n");
    }

    public int getTotalAmount() {
        return totalAmount;
    }
}
```

```java
// Main.java
public class Main {
    public static void main(String[] args) {
        PaymentService service = new PaymentService();

        PaymentMethod card = new CreditCard();
        PaymentMethod kakao = new KakaoPay();
        PaymentMethod bank = new BankTransfer();

        service.processPayment(card, 10000);
        service.processPayment(kakao, 15000);
        service.processPayment(bank, 20000);

        System.out.println("총 결제 금액: " + service.getTotalAmount() + "원");
    }
}
```

---

### 🧠 학생용 쉬운 설명

> 여러 번 결제를 하면 지금까지 결제한 **총액을 자동으로 저장**해주는 기능이야!

* `totalAmount`라는 변수를 만들어서, 결제할 때마다 금액을 더해주는 방식!
* 마지막에 `getTotalAmount()`를 호출하면, 전체 얼마를 썼는지 알 수 있어요.

---

### ✅ 마무리 응용 아이디어

* 결제 취소 기능 `void cancel(int amount)` → 총액에서 차감
* 결제 내역 저장 → `List<String>`으로 로그 저장
* 특정 결제 수단만 필터링하여 통계 계산

필요하시면 이러한 심화 과제도 만들어드릴게요!
